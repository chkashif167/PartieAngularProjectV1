<div class="page page-preferences">
  <partie-header 
	[title]="'Privacy &amp; Safety'"
  [backUrl]="'/account'" 
  [showNotification]="'true'" >

  </partie-header>
  <main class="content">
    <div class="preference-item">
      <div class="setting-toggle">
        <div class="toggle-main">
          <div class="label-group">
            <span class="setting-toggle-label">Allow Direct messages</span>
          </div>
          <label class="switch on">
            <input type="checkbox" [checked]="directMessagingAllowed" (change)="toggleDirectMessaging()" checked>
            <span class="slider round"></span>
          </label>
        </div>
        <div class="toggle-help">
          <p>Lorem ipsum dolor description</p>
        </div>
      </div>
    </div>

    <div class="preference-item">
      <div class="setting-toggle">
        <div class="toggle-main">
          <div class="label-group">
            <span class="setting-toggle-label">Follower Require Approval</span>
          </div>
          <label class="switch on">
            <input type="checkbox" [disabled]="contentAgeScreened" [checked]="followerRequireApproval" (change)="toggleFollowerRequireApproval()" checked>
            <span class="slider round"></span>
          </label>
        </div>
        <div class="toggle-help">
          <p>Lorem ipsum dolor description</p>
        </div>
      </div>
    </div>

    <div class="preference-item">
      <div class="setting-toggle">
        <div class="toggle-main">
          <div class="label-group">
            <span class="setting-toggle-label">Content Age Screening</span>
          </div>
          <label class="switch on">
            <input type="checkbox" [checked]="contentAgeScreened" (change)="toggleContentAgeScreened()" checked>
            <span class="slider round"></span>
          </label>
        </div>
        <div class="toggle-help">
          <p>Lorem ipsum dolor description</p>
        </div>
      </div>
    </div>

    <div class="preference-item">
      <div class="setting-toggle">
        <div class="toggle-main">
          <div class="label-group">
            <span (click)="openPostVisibilityPopup()" class="setting-toggle-label">Post Visibility</span>
          </div>
        </div>
        <div class="toggle-help">
          <p>{{publicPosts ? 'Public' : 'Protected'}}</p>
        </div>
      </div>
    </div>
    <div class="preference-item short" (click)="showMutedUsers()">
      <span class="preference-label">Muted Accounts</span>
    </div>

  </main>




  <div *ngIf="showPostVisibilityPopup" class="modal preference-modal dynamic-height active">
    <div class="modal-overlay"></div>
    <div class="modal-container">
      <div class="modal-header">
        <button class="btn bg-black btn-close" (click)="closePostVisibilityPopup()">
          <img src="/assets/images/icons/misc/back-carat.svg" alt="Back Icon">
        </button>
      </div>
      <div class="modal-content">
  
        <h2>Posts Visibility</h2>
       
          <div  class="checkbox-group">
            <div class="checkbox-item">
              <label [ngClass]="publicPosts ? 'checkbox checked' : 'checkbox'">
                <span>Public
                  <span class="description"><br>Post is visible to all users</span>
                </span>
               
                <input type="radio" name="postVisibilityradio" (click)="togglePostVisibility(true)">
                <img src="/assets/images/icons/misc/check.svg" class="check-icon-off" alt="Check Icon">
                <img src="/assets/images/icons/misc/check-green.svg" class="check-icon-on" alt="Check Icon">
              </label>
            </div>
          </div>
          <div class="checkbox-group">
            <div class="checkbox-item">
              <label [ngClass]="!publicPosts ? 'checkbox checked' : 'checkbox'">
                <span>Protected <br> <span class="description">Post only visible to user's followers</span></span><br>
                
                <input type="checkbox" name="postVisibilityradio" (click)="togglePostVisibility(false)">
                <img src="/assets/images/icons/misc/check.svg" class="check-icon-off" alt="Check Icon">
                <img src="/assets/images/icons/misc/check-green.svg" class="check-icon-on" alt="Check Icon">
              </label>
            </div>
            </div>
        </div> 
      </div>
    </div>
  </div>

